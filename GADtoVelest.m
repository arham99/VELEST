clear;clc%--- initiate data%fid1=fopen(file_catalog);%file catalog menjadi file variabelstr=fopen('lokasi.txt','r');%baca file lokasi%--- read datalokasi=textscan(str,'%d %d %d %d %d %6.3f %7f %*5f %9f %*3f %f %d');%ftell(str)fclose(str);tahun=lokasi{1};bulan=lokasi{2};hari=lokasi{3};jam=lokasi{4};menit=lokasi{5};detik=lokasi{6};lat=lokasi{7};long=lokasi{8};depth=lokasi{9};ID=lokasi{10};South='S';East='E';E=0.00;Y=0;k=1;%bilangan untuk membantu menentukan jumlah stasiun dalam file katalog yg akan kita buat (format velest)h=0;%bilangan untuk menerangkan batas data maksimum travel time dalam 1 baris file .cnv adalah 6fidP=fopen('datavelest2.cnv','wt');%Scrip untuk mengetahui jumlah eventall_arr_time_100_kamojang=importdata('traveltime.txt');event=0;for p=1:length(all_arr_time_100_kamojang) %tergantung nama file yang mengandung catalog gempa    if isnan(all_arr_time_100_kamojang(p,9))==0        event=event+1;    end;end;z = 1;for i=1:event% i sampai jumlah event    fprintf(fidP,'%2i%2i%2i %2i%2i%6.2f%8.4f%1c %8.4f%1c %6.2f %4.2f %1i\n',tahun(i),bulan(i),hari(i),jam(i),menit(i),detik(i),-lat(i),South,long(i),East,depth(i),E,Y);       if all_arr_time_100_kamojang(z,7)~=99.990 && all_arr_time_100_kamojang(z,7)> detik(i)        fprintf(fidP,'%4i%1c%1i%6.2f',all_arr_time_100_kamojang(z,6),'P',1,all_arr_time_100_kamojang(z,7)-detik(i));        h=h+1;    else if all_arr_time_100_kamojang(z,7)~=99.990 && all_arr_time_100_kamojang(z,7)< detik(i)            fprintf(fidP,'%4i%1c%1i%6.2f',all_arr_time_100_kamojang(z,6),'P',1,(all_arr_time_100_kamojang(z,7)+60)-detik(i));            h=h+1;        end;    end;    if all_arr_time_100_kamojang(z,8)~=99.990 && all_arr_time_100_kamojang(z,8)> detik(i)        fprintf(fidP,'%4i%1c%1i%6.2f',all_arr_time_100_kamojang(z,6),'S',1,all_arr_time_100_kamojang(z,8)-detik(i));        h=h+1;    else if all_arr_time_100_kamojang(z,8)~=99.990 && all_arr_time_100_kamojang(z,8)< detik(i)            fprintf(fidP,'%4i%1c%1i%6.2f',all_arr_time_100_kamojang(z,6),'S',1,(all_arr_time_100_kamojang(z,8)+60)-detik(i));            h=h+1;        end;    end;    z=z+1;       while isnan(all_arr_time_100_kamojang(z,9))==1        z;        %k=k+1        if all_arr_time_100_kamojang(z,7)~=99.990 && all_arr_time_100_kamojang(z,7)> detik(i)        fprintf(fidP,'%4i%1c%1i%6.2f',all_arr_time_100_kamojang(z,6),'P',1,all_arr_time_100_kamojang(z,7)-detik(i));        h=h+1        else if all_arr_time_100_kamojang(z,7)~=99.990 && all_arr_time_100_kamojang(z,7)< detik(i)                fprintf(fidP,'%4i%1c%1i%6.2f',all_arr_time_100_kamojang(z,6),'P',1,(all_arr_time_100_kamojang(z,7)+60)-detik(i));                h=h+1;            end;        end;        if mod(h,6)==0 && h~=0            fprintf(fidP,'\n')            h=0;        end;        if all_arr_time_100_kamojang(z,8)~=99.990 && all_arr_time_100_kamojang(z,8)> detik(i)        fprintf(fidP,'%4i%1c%1i%6.2f',all_arr_time_100_kamojang(z,6),'S',1,all_arr_time_100_kamojang(z,8)-detik(i));        h=h+1;        else if all_arr_time_100_kamojang(z,8)~=99.990 && all_arr_time_100_kamojang(z,8)< detik(i)                fprintf(fidP,'%4i%1c%1i%6.2f',all_arr_time_100_kamojang(z,6),'S',1,(all_arr_time_100_kamojang(z,8)+60)-detik(i));                h=h+1            end;        end;        if mod(h,6)==0 && h~=0            fprintf(fidP,'\n')            h=0;        end;        z=z+1;    end;    if h~=0    fprintf(fidP,'\n')    end;    fprintf(fidP,'\n')    h=0;end;